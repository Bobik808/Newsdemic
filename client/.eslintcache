[{"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/index.tsx":"1","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/reportWebVitals.ts":"2","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/App.tsx":"3","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/socket-io-client/socket-io-client.tsx":"4","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/store.tsx":"5","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/StartGame.tsx":"6","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/gameStateActions.ts":"7","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/playerReducer.ts":"8","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/gameStateReducer.ts":"9","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/allGamesReducer.ts":"10","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/helpers/iconExporter.ts":"11","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/NewGameMenu/NewGameMenu.tsx":"12","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/GameOver/gameOver.tsx":"13","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/YouWon/youWon.tsx":"14","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/GameOn.tsx":"15","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/reduxTypes.ts":"16","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/logic/actions.MW.ts":"17","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/logic/actions.newState_CO.ts":"18","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/initialState.tsx":"19","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/OtherPlayer/OtherPlayer.tsx":"20","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/SpreadLevel/SpreadLevel.tsx":"21","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/PlayerPrompt/PlayerPrompt.tsx":"22","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/MisinformationDeck/misinformationDeck.tsx":"23","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/MarkersStore/MarkersStore.tsx":"24","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/ChaosMeter/ChaosMeter.tsx":"25","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/InfoModal/InfoModal.tsx":"26","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/CureDeck/CureDeck.tsx":"27","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/CardHand/CardHand.tsx":"28","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/sourceDeck/sourceDeck.tsx":"29","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/SourceParent/SourceParent.tsx":"30","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/logic/connections.ts":"31","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/helpers/utils.ts":"32","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/SourceCard/SourceCard.tsx":"33","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/Source/Source.tsx":"34","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/Source/DebunkModal.tsx":"35","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/PlayerPawn/PlayerPawn.tsx":"36"},{"size":500,"mtime":1612896238544,"results":"37","hashOfConfig":"38"},{"size":425,"mtime":1612016729288,"results":"39","hashOfConfig":"38"},{"size":412,"mtime":1613041128980,"results":"40","hashOfConfig":"38"},{"size":1966,"mtime":1613041129037,"results":"41","hashOfConfig":"38"},{"size":917,"mtime":1613041129037,"results":"42","hashOfConfig":"38"},{"size":2329,"mtime":1613041129029,"results":"43","hashOfConfig":"38"},{"size":3115,"mtime":1613041129035,"results":"44","hashOfConfig":"38"},{"size":707,"mtime":1612896238547,"results":"45","hashOfConfig":"38"},{"size":2839,"mtime":1613041129035,"results":"46","hashOfConfig":"38"},{"size":369,"mtime":1613041129034,"results":"47","hashOfConfig":"38"},{"size":5235,"mtime":1613041129031,"results":"48","hashOfConfig":"38"},{"size":4042,"mtime":1613041684728,"results":"49","hashOfConfig":"38"},{"size":753,"mtime":1613041129020,"results":"50","hashOfConfig":"38"},{"size":149,"mtime":1613041129030,"results":"51","hashOfConfig":"38"},{"size":4860,"mtime":1613041129018,"results":"52","hashOfConfig":"38"},{"size":3243,"mtime":1613041129036,"results":"53","hashOfConfig":"38"},{"size":10547,"mtime":1613041129032,"results":"54","hashOfConfig":"38"},{"size":21530,"mtime":1613041129032,"results":"55","hashOfConfig":"38"},{"size":1523,"mtime":1612896238546,"results":"56","hashOfConfig":"38"},{"size":4903,"mtime":1613041129022,"results":"57","hashOfConfig":"38"},{"size":831,"mtime":1613041129029,"results":"58","hashOfConfig":"38"},{"size":1039,"mtime":1613041129024,"results":"59","hashOfConfig":"38"},{"size":377,"mtime":1612896238535,"results":"60","hashOfConfig":"38"},{"size":738,"mtime":1612896238535,"results":"61","hashOfConfig":"38"},{"size":1619,"mtime":1613041129017,"results":"62","hashOfConfig":"38"},{"size":1447,"mtime":1613041129020,"results":"63","hashOfConfig":"38"},{"size":1909,"mtime":1613041129018,"results":"64","hashOfConfig":"38"},{"size":960,"mtime":1613041129015,"results":"65","hashOfConfig":"38"},{"size":349,"mtime":1612896238542,"results":"66","hashOfConfig":"38"},{"size":1141,"mtime":1613041129027,"results":"67","hashOfConfig":"38"},{"size":3012,"mtime":1613041129033,"results":"68","hashOfConfig":"38"},{"size":556,"mtime":1612896238543,"results":"69","hashOfConfig":"38"},{"size":1759,"mtime":1612896238540,"results":"70","hashOfConfig":"38"},{"size":7238,"mtime":1613041129026,"results":"71","hashOfConfig":"38"},{"size":3972,"mtime":1613041129025,"results":"72","hashOfConfig":"38"},{"size":1204,"mtime":1613041129062,"results":"73","hashOfConfig":"38"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},"eogvai",{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"76"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"76"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"76"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"76"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"76"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"76"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"76"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"76"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127","usedDeprecatedRules":"76"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"76"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"76"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"146","usedDeprecatedRules":"76"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"76"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"156","usedDeprecatedRules":"76"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"159","usedDeprecatedRules":"76"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"162","usedDeprecatedRules":"76"},"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/index.tsx",[],["163","164"],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/reportWebVitals.ts",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/App.tsx",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/socket-io-client/socket-io-client.tsx",["165"],"//based on change of state \nimport io from \"socket.io-client\";\nimport * as dotenv from 'dotenv';\nimport { store } from '../redux/gameState/store'\nimport { GetAllGamesAction, updateGameState } from \"../redux/gameState/gameStateActions\";\nimport { Gamestate } from \"../types/gameStateTypes\";\nimport { Play } from \"grommet-icons\";\ndotenv.config({ path: __dirname + '../.env' });\nconst socket = io(process.env.SERVER_URL || 'http://localhost:3002');\n\n\nconst Player = store.getState().playerStateReducer\n\n// on click - 'start game' \nexport const joinRoom = (player: typeof Player) => {\n  socket.emit('joinRoom', player);\n}\n\n// Message from server // welcome component \nsocket.on('joinConfirmation', (message: string) => {\n  console.log(message); // display message to the screen \n\n});\n\n//subscripion to any game state changes \n\nstore.subscribe(() => {\n  const newState = store.getState().gameStateReducer\n  const Player = store.getState().playerStateReducer\n  // console.log(newState, 'NEW STATE FROM SUBSCRIBE ')\n  // console.log(Player, 'PLAYER')\n  if (!newState.received && Player && newState.gameOn) {\n    socket.emit('onChangeState', { newState, Player })\n  }\n})\n\n// const addPlayer = (player: typeof Player) => {\n//   socket.emit('addPlayerToGame', player)\n// }\n\n\n//data coming from backend after game state changed\nsocket.on('updatedState', (newState: Gamestate) => {\n  console.log('newstate from client ', newState)\n  newState.received = true;\n  store.dispatch(updateGameState(newState))\n})\n\nexport const getGame = (player: typeof Player) => {\n  // console.log(player, 'PLAYER ON GET GAME - WILL BE ADDED HERE')\n  player && socket.emit('retriveGame', player)\n\n}\n\nexport const getGames = () => {\n  socket.emit('getGames')\n  socket.on('games', (\n    (data: string[]) => {\n      store.dispatch(GetAllGamesAction(data))\n    }\n  ))\n}\ngetGames();\n\n\n\n// how to we tell the users \nsocket.on('userLeft', (message: string) => console.log(message)) // need a end game button ","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/store.tsx",["166"],"\nimport { createStore } from \"redux\";\nimport { combineReducers } from 'redux'\nimport { playerStateReducer } from './playerReducer'\n\n\n// import {Gamestate} from '../../types/gameStateTypes'\nimport { gameStateReducer } from './gameStateReducer';\nimport { Gamestate, Player } from \"../../types/gameStateTypes\";\nimport { allGamesStateReducer } from '../gameState/allGamesReducer'\nimport { initialState } from \"./initialState\";\nexport const reducer = combineReducers({\n  playerStateReducer,\n  gameStateReducer,\n  allGamesStateReducer\n})\n/* eslint-disable no-underscore-dangle */\nexport const store = createStore(reducer,\n  (window as any).__REDUX_DEVTOOLS_EXTENSION__ &&\n  (window as any).__REDUX_DEVTOOLS_EXTENSION__());\n  /* eslint-enable */\n\n// export type RootState = ReturnType<typeof reducer>\nexport interface RootState {\n  playerStateReducer: Player\n  gameStateReducer: Gamestate,\n  allGamesStateReducer: String[]\n}","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/StartGame.tsx",["167","168","169","170","171","172","173","174","175"],"\nimport React, { useEffect, useState } from 'react';\n// import { Box, Button, Grommet, Card, CardHeader, CardBody, CardFooter, Meter } from 'grommet';\n// import { Notification } from 'grommet-icons';\nimport { Provider, useDispatch, useSelector } from 'react-redux';\nimport { RootState, store } from '../redux/gameState/store';\nimport { getGame, getGames, joinRoom } from '../socket-io-client/socket-io-client';\nimport { CureDeck } from '../components/CureDeck/CureDeck';\nimport { getIcon } from '../helpers/iconExporter'\nimport { NewGameMenu } from '../components/NewGameMenu/NewGameMenu'\nimport { addPlayerToGameState, DealCardsToNewPlayerAction, StartGameAction } from '../redux/gameState/gameStateActions';\nimport { Gamestate, Player } from '../types/gameStateTypes';\nimport { GameOn } from './GameOn';\nimport { GameOver } from './GameOver/gameOver'\nimport { Winner } from './YouWon/youWon'\n\nexport const StartGame: React.FC = (): JSX.Element => {\n\n  const dispatch = useDispatch();\n  // const [showSidebar, setShowSidebar] = useState(false);\n  const player = useSelector((state: RootState) => state.playerStateReducer)\n  const allRooms = useSelector((state: RootState) => state.allGamesStateReducer)\n  const [stateRendered, updateStateRendered] = useState(false)\n  // let gameOn: boolean = false;\n  let state = useSelector((state: RootState) => state.gameStateReducer)\n\n  const startGame = (player: Player) => {\n    if (!stateRendered) {\n      joinRoom(player)\n      if (allRooms.filter(room => room === player.room).length > 0) {\n        getGame(player);\n        updateStateRendered(true)\n      } else {\n        dispatch(StartGameAction([player]))\n        updateStateRendered(true)\n      }\n    }\n  }\n  \n\n  const MapSVG = getIcon('map');\n  // const addPlayer = () => {\n  //   dispatch(addPlayerToGameState(player, gamestate))\n  // }\n\n  return (\n\n    <div className=\"start-game-container\">\n      {state.gameWon ?\n        <Winner /> :\n        state.gameLost ?\n          <GameOver /> :\n          (player.name.length < 1) ?\n\n\n            <NewGameMenu />\n\n            : (\n              (!stateRendered) ?\n                <h1>\n                  game loading ...\n          {startGame(player)}\n                </h1>\n                :\n                <GameOn rendered={stateRendered} />\n            )\n      }\n    </div>\n  )\n}\n\n\n\n\n\n\n\n\n","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/gameStateActions.ts",["176"],"import { ClearmisinfoProps, CLEAR_MISINFO, DebunkMisinfoProps, DEBUNK_MISINFO, discardCardProps, DISCARD_ACTION, logOnOffProps, LOG_ON_OFF, MoveActionProps, MOVE_ACTION, ShareCardProps, SHARE_CARD, UPDATE_GAME_STATE, GameStateActionTypes, PlayerStateActionTypes, ADD_PLAYER, GET_ALL_GAMES, AllGamesActionTypes, START_GAME, ADD_PLAYER_TO_GAME, DEAL_CARDS, dealCardsProp } from './reduxTypes';\nimport { Gamestate, Player, } from '../../types/gameStateTypes'\nimport { gameStateReducer } from './gameStateReducer';\n//Below are example of actions with typescript.\n// we need to create an action for each reduced case\n\n\nexport function moveAction(props: MoveActionProps): GameStateActionTypes {\n  const { oldState, currentPlayerID, location } = props\n  return {\n    type: MOVE_ACTION,\n    payload: { oldState, currentPlayerID, location }\n  }\n}\n\n\n\nexport function clearMisinfoAction(props: ClearmisinfoProps): GameStateActionTypes {\n  const { oldState, currentPlayerID, location, misinfoType } = props;\n  return {\n    type: CLEAR_MISINFO,\n    payload: { oldState, currentPlayerID, location, misinfoType }\n  }\n}\n\n\nexport function shareCardAction(props: ShareCardProps): GameStateActionTypes {\n  const { oldState, currentPlayerID, recipient, sharedCard } = props;\n  return {\n    type: SHARE_CARD,\n    payload: { oldState, currentPlayerID, recipient, sharedCard }\n  }\n}\n\nexport function logOnOffAction(props: logOnOffProps): GameStateActionTypes {\n  const { oldState, currentPlayerID, location, usedCard } = props;\n  return {\n    type: LOG_ON_OFF,\n    payload: { oldState, currentPlayerID, location, usedCard }\n  }\n}\nexport function debunkMisinfoAction(props: DebunkMisinfoProps): GameStateActionTypes {\n  const { oldState, currentPlayerID, usedCards, misinfoType } = props;\n  return {\n    type: DEBUNK_MISINFO,\n    payload: { oldState, currentPlayerID, usedCards, misinfoType }\n  }\n}\n\nexport function discardCardAction(props: discardCardProps): GameStateActionTypes {\n  const { oldState, currentPlayerID, discardedCard } = props;\n  return {\n    type: DISCARD_ACTION,\n    payload: { oldState, currentPlayerID, discardedCard }\n  }\n}\n//redux action to update whole gameState // examples\nexport function updateGameState(gameState: Gamestate): GameStateActionTypes {\n  return {\n    type: UPDATE_GAME_STATE,\n    payload: gameState\n  }\n}\n\nexport function AddPlayerAction(name: string, color: string, room: string): PlayerStateActionTypes {\n  return {\n    type: ADD_PLAYER,\n    payload: { name, color, room }\n  }\n}\n\nexport function GetAllGamesAction(array: string[]): AllGamesActionTypes {\n  return {\n    type: GET_ALL_GAMES,\n    payload: array\n  }\n}\n\n\nexport function StartGameAction(players: Player[]): GameStateActionTypes {\n  return {\n    type: START_GAME,\n    payload: players\n  }\n}\n\nexport function addPlayerToGameState(player: Player): GameStateActionTypes {\n  return {\n    type: ADD_PLAYER_TO_GAME,\n    payload: { player }\n  }\n}\n\n\nexport function DealCardsToNewPlayerAction(props: dealCardsProp): GameStateActionTypes {\n  const { player, state } = props;\n  return {\n    type: DEAL_CARDS,\n    payload: { player, state }\n  }\n}","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/playerReducer.ts",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/gameStateReducer.ts",["177","178"],"import { ADD_PLAYER_TO_GAME, CLEAR_MISINFO, DEAL_CARDS, DEBUNK_MISINFO, DISCARD_ACTION, GameStateActionTypes, LOG_ON_OFF, MOVE_ACTION, SHARE_CARD, START_GAME, UPDATE_GAME_STATE } from './reduxTypes';\nimport { initialState } from './initialState'\nimport { Gamestate } from '../../types/gameStateTypes'\nimport { clearMisinfo, debunkMisinfo, discardCard, logOnOff, moveAction, shareCard } from '../../logic/actions.newState_CO'\nimport {dealCardsToNewPlayer, setUp } from '../../logic/actions.MW';\nimport { Console } from 'console';\n//here should be a initial State of the Game\nconst GameState: Gamestate = initialState;\n// const GameState: Gamestate = gameState;\n\nexport function gameStateReducer(\n  state = GameState,\n  action: GameStateActionTypes\n): Gamestate {\n  switch (action.type) {\n    case MOVE_ACTION: {\n      const ap = action.payload;\n      const newstate = moveAction(ap.oldState, ap.currentPlayerID, ap.location)\n      return { ...state, ...newstate, received: false };\n    }\n    case CLEAR_MISINFO: {\n      const ap = action.payload;\n      // return {...clearMisinfo(ap.oldState, ap.currentPlayerID, ap.misinfoType, ap.location),  ...state, received: false }}\n      const newState = { ...state, received: false }\n      return { ...newState, ...clearMisinfo(ap.oldState, ap.currentPlayerID, ap.misinfoType, ap.location) }\n    }\n\n    case SHARE_CARD: {\n      const ap = action.payload;\n      const newstate = shareCard(ap.oldState, ap.currentPlayerID, ap.recipient, ap.sharedCard)\n      return { ...state, ...newstate, received: false };\n    }\n    case LOG_ON_OFF: {\n      const ap = action.payload;\n      const newstate = logOnOff(ap.oldState, ap.currentPlayerID, ap.location, ap.usedCard)\n      return { ...state, ...newstate, received: false };\n    }\n    case DEBUNK_MISINFO: {\n      const ap = action.payload;\n      const newstate = debunkMisinfo(ap.oldState, ap.currentPlayerID, ap.usedCards, ap.misinfoType)\n      return { ...state, ...newstate, received: false };\n    }\n    case DISCARD_ACTION: {\n      const ap = action.payload;\n      const newstate = discardCard(ap.oldState, ap.currentPlayerID, ap.discardedCard)\n      return { ...state, ...newstate, received: false };\n    }\n\n    case UPDATE_GAME_STATE:\n      return {\n        ...state, ...action.payload\n      }\n\n    case DEAL_CARDS: {\n      const ap = action.payload;\n      const newstate = dealCardsToNewPlayer(ap.player, ap.state)\n      console.log(\n        'reducer - deal cards', newstate\n      )\n      return { ...newstate, received: false }\n    }\n    case START_GAME: {\n      const initialState = setUp(action.payload)\n      // console.log('it gets here - START GAME REDUCER')\n      const obj = { ...state, ...initialState, gameOn: true, received: false }\n      // console.log('obj - AFTER UPDATE', obj)\n      return obj\n\n    }\n    default: return state\n  }\n}\n","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/allGamesReducer.ts",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/helpers/iconExporter.ts",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/NewGameMenu/NewGameMenu.tsx",["179","180","181","182","183","184","185","186","187","188","189","190","191"],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/GameOver/gameOver.tsx",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/YouWon/youWon.tsx",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/GameOn.tsx",["192","193","194","195","196","197","198","199","200","201","202","203"],"\nimport React, { useEffect, useState } from 'react';\n// import { Box, Button, Grommet, Card, CardHeader, CardBody, CardFooter, Meter } from 'grommet';\n// import { Notification } from 'grommet-icons';\nimport { Provider, useDispatch, useSelector } from 'react-redux';\nimport { RootState, store } from '../redux/gameState/store';\nimport { getGame, getGames, joinRoom } from '../socket-io-client/socket-io-client';\nimport { CureDeck } from '../components/CureDeck/CureDeck';\nimport { getIcon } from '../helpers/iconExporter'\nimport { SourceCard } from '../components/SourceCard/SourceCard';\nimport { CardHand } from '../components/CardHand/CardHand';\nimport { SourceDeck } from '../components/sourceDeck/sourceDeck'\nimport { MarkersStore } from '../components/MarkersStore/MarkersStore'\nimport { MisinformationDeck } from '../components/MisinformationDeck/misinformationDeck'\nimport { ChaosMeter } from '../components/ChaosMeter/ChaosMeter'\nimport { SpreadLevel } from '../components/SpreadLevel/SpreadLevel';\nimport { PlayerPrompt } from '../components/PlayerPrompt/PlayerPrompt';\nimport { SourceParent } from '../components/SourceParent/SourceParent';\nimport { NewGameMenu } from '../components/NewGameMenu/NewGameMenu'\nimport { addPlayerToGameState, DealCardsToNewPlayerAction, StartGameAction } from '../redux/gameState/gameStateActions';\nimport { Gamestate, Player } from '../types/gameStateTypes';\nimport { UpdateGameStateAction } from '../redux/gameState/reduxTypes';\nimport { OtherPlayer } from './OtherPlayer/OtherPlayer';\n// import { InfoModal } from './InfoModal/InfoModal';\nimport Modal from 'react-modal';\nimport { InfoModal } from './InfoModal/InfoModal';\nimport './InfoModal/InfoModal.scss';\n\n\ninterface Props {\n  rendered: boolean\n}\n\nexport const GameOn: React.FC<Props> = ({ rendered }): JSX.Element => {\n\n  const dispatch = useDispatch();\n  // const [showSidebar, setShowSidebar] = useState(false);\n  const player = useSelector((state: RootState) => state.playerStateReducer)\n  const allRooms = useSelector((state: RootState) => state.allGamesStateReducer)\n  const [modal, updateModal] = useState(false)\n  const getCards = () => {\n    state = store.getState().gameStateReducer\n    console.log(state, 'state from the gey cards button')\n    dispatch(DealCardsToNewPlayerAction({ player, state }))\n  }\n\n  const checkCards = (newstate: Gamestate) => {\n    for (let PLAYER of newstate.players) {\n      if (PLAYER.id === player.id) {\n        const p = PLAYER.cards;\n        const card = p[0];\n        if (!card) {\n\n          return true\n        }\n      }\n    }\n    return false;\n  };\n\n\n\n  const openModal = () => {\n    updateModal(true)\n  }\n  const closeModal = () => {\n    updateModal(false)\n  }\n  const InfoIcon = getIcon('infoIcon');\n\n  let state = useSelector((state: RootState) => state.gameStateReducer)\n  const ConnectionsWithFrame = getIcon('connectionsWithFrame');\n\n  return (\n    <div>\n      { (rendered && state.gameOn) &&\n        <div className=\"app-outer-wrapper\">\n          <div className=\"app-container\">\n            {/* <Map /> */}\n            {/* <GameBoard /> */}\n            <div className=\"sidebar left\">\n              {(checkCards(state) === true && state.turnMovesLeft > 3) ?\n                <button\n                  className='get-cards'\n                  onClick={getCards}> GET CARDS </button>\n                :\n                <CardHand />\n              }\n              <PlayerPrompt state={state} />\n            </div>\n            <div className=\"board-container\">\n              <div id=\"game-board\">\n                {/* <MapSVG className=\"map-svg\"/> */}\n                <ConnectionsWithFrame className=\"connections-overlay\" />\n                <SourceParent />\n                {/* <div id=\"connections-paths\"> */}\n                  <OtherPlayer />\n                  {!modal && <InfoIcon onClick={openModal} />}\n                {/* </div> */}\n                <OtherPlayer />\n                {/* <div id=\"connections-paths\">\n                </div> */}\n\n              </div>\n              {/* <SourceParent /> */}\n              <SourceDeck />\n              <MisinformationDeck />\n              <MarkersStore />\n              {/* <ChaosMeterGrommet /> */}\n              {/* <OtherPlayer /> */}\n              {/* </Grommet> */}\n\n            </div>\n            <div className=\"sidebar right\">\n\n              <Modal\n                isOpen={modal}\n                onRequestClose={closeModal}\n                className='modal_container'\n                contentLabel=\"Game rules\"\n                ariaHideApp={false}\n              >\n                <InfoModal />\n                <button className='modal_button' onClick={closeModal}>close</button >\n              </Modal>\n              <ChaosMeter />\n              <SpreadLevel />\n              <CureDeck />\n            </div>\n          </div>\n        </div>\n      }\n    </div >\n  )\n}\n","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/reduxTypes.ts",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/logic/actions.MW.ts",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/logic/actions.newState_CO.ts",["204","205","206"],"import { Gamestate, Card,ViralCard, Source, Player, Misinformation } from '../types/gameStateTypes'\nimport { didWin,typeCheck } from './actions.MW'\nimport { connections as sources } from './connections'\nimport React,{useState} from 'react';\n\nexport const messages:string[]=[]\n//* START THE GAME\n//? called when start button pressed, after game initialised and player order set\n\nexport function startGame(oldState: Gamestate) {\n  const currentPlayerID: Player['id'] = oldState.players[0].id;\n  let playerName:string=oldState.players.filter(player=>player.id===currentPlayerID)[0].name\n  if(messages.length===0){messages.push(`Welcome ${playerName}! Time to travel around the map cleaning up misinformation around town. Good Luck!`)}\n\n  return updatePossibleActions(oldState, currentPlayerID);\n}\n\n//* ACTIONS\n\nexport function moveAction(oldState: Gamestate, currentPlayerID: Player['id'], location: Source['name']): Gamestate {\n  const newState: Gamestate =\n  {\n    ...oldState,\n    players: oldState.players\n      .map((player) => player.id === currentPlayerID ?\n        { ...player, currentSource: location } :\n        player\n      ),\n    turnMovesLeft: oldState.turnMovesLeft - 1,\n  };\n\n  let playerName:string=oldState.players.filter(player=>player.id===currentPlayerID)[0].name\n\n  messages.push(`${playerName} moved to \"${location}\"`)\n  messages.push(`${playerName} has ${newState.turnMovesLeft} moves left`)\n  return nextMoveChecker(newState, currentPlayerID);\n}\n\n\nexport function clearMisinfo(oldState: Gamestate, currentPlayerID: Player['id'], misinfoType: Misinformation['name'], location: Source['name']): Gamestate {\n  const sourceIndex: number = oldState.sources.map((source) => source.name).indexOf(location);\n  console.log('old state in clearmisinfo', oldState)\n  let noOfMarkers: number = 1;\n  if (oldState.misinformation[misinfoType].debunked) {\n    noOfMarkers = oldState.sources[sourceIndex][`markers_${misinfoType}`]\n  };\n  const newState: Gamestate =\n  {\n    ...oldState,\n    sources: oldState.sources\n      .map((source) => source.name === location ?\n        { ...source, [`markers_${misinfoType}`]: source[`markers_${misinfoType}`] - noOfMarkers } :\n        source\n      ),\n    misinformation: {\n      ...oldState.misinformation,\n      [misinfoType]: {\n        ...oldState.misinformation[misinfoType],\n        markersLeft: oldState.misinformation[misinfoType].markersLeft + noOfMarkers\n      }\n    },\n    turnMovesLeft: oldState.turnMovesLeft - 1,\n  };\n\n  let playerName:string=oldState.players.filter(player=>player.id===currentPlayerID)[0].name\n\n  messages.push(`${playerName} cleared ${noOfMarkers} bit of ${misinfoType} misinformation from ${location}`)\n  messages.push(`${playerName} has ${newState.turnMovesLeft} moves left`)\n\n  console.log('player cleared', noOfMarkers, misinfoType);\n  //console.log(`%c player cleared ${noOfMarkers} ${misinfoType} markers`,`background-color: lightsalmon; color: green; padding: 10px`);\n  //console.log(`%c there are ${newState.turnMovesLeft} moves left`,`background-color: lightpink; color: black; padding: 10px`);\n  return nextMoveChecker(newState, currentPlayerID);\n}\n\n\nexport function shareCard(oldState: Gamestate, currentPlayerID: Player['id'], recipient: Player['id'], sharedCard: Card['sourceName']): Gamestate {\n\n  const playerIndex = oldState.players\n    .map((player) => player.id)\n    .indexOf(currentPlayerID);\n  const cardMisinfoValue = oldState.players[playerIndex].cards\n    .filter((card) => card.sourceName === sharedCard)[0].misinfoType;\n\n\n  const newState: Gamestate =\n  {\n    ...oldState,\n    players: oldState.players\n      .map((player) => player.id === currentPlayerID ?\n        {\n          ...player,\n          cards: player.cards.filter((card) => card.sourceName !== sharedCard)\n        } :\n        player.id === recipient ?\n          {\n            ...player,\n            cards: [...player.cards, {\n              cardType: 'connection',\n              sourceName: sharedCard,\n              misinfoType: cardMisinfoValue\n            }],\n          } :\n          player\n      ),\n    turnMovesLeft: oldState.turnMovesLeft - 1,\n  };\n  console.log('player shared', sharedCard, 'with player', recipient);\n  console.log(`%c there are ${newState.turnMovesLeft} moves left`,`background-color: lightpink; color: black; padding: 10px`);\n  return nextMoveChecker(newState, currentPlayerID);\n}\n\n\nexport function logOnOff(oldState: Gamestate, currentPlayerID: Player['id'], location: Source['name'], usedCard: Card['sourceName']): Gamestate {\n  const newState: Gamestate =\n  {\n    ...oldState,\n    players: oldState.players\n      .map((player) => player.id === currentPlayerID ?\n        {\n          ...player,\n          currentSource: location,\n          cards: player.cards.filter((card) => card.sourceName !== usedCard)\n        } :\n        player\n      ),\n    turnMovesLeft: oldState.turnMovesLeft - 1,\n  };\n\n  let playerName:string=oldState.players.filter(player=>player.id===currentPlayerID)[0].name\n  messages.push(`${playerName} fast traveled to \"${location}\" using their \"${usedCard}\" card`)\n  messages.push(`${playerName} has ${newState.turnMovesLeft} moves left`)\n  //console.log(`%c player flew to ${location} using the ${usedCard} card`,`background-color: cyan; color: black; padding: 10px`);\n  //console.log(`%c there are ${newState.turnMovesLeft} moves left`,`background-color: lightpink; color: black; padding: 10px`);\n  return nextMoveChecker(newState, currentPlayerID);\n}\n\n\nexport function debunkMisinfo(oldState: Gamestate, currentPlayerID: Player['id'], usedCards: Card['sourceName'][], misinfoType: Misinformation['name']): Gamestate {\n  const newState: Gamestate =\n  {\n    ...oldState,\n    players: oldState.players\n      .map((player) => player.id === currentPlayerID ?\n        {\n          ...player,\n          cards: player.cards.filter((card) => !usedCards.includes(card.sourceName))\n        } :\n        player\n      ),\n    misinformation: {\n      ...oldState.misinformation,\n      [misinfoType]: {\n        ...oldState.misinformation[misinfoType],\n        debunked: true,\n      }\n    },\n    turnMovesLeft: oldState.turnMovesLeft - 1,\n  };\n  if (didWin(newState)) {\n    console.log(`%c CONGRATULATIONS! You debunked all the misinformation in the world and won. Good for you.`,`background-color: chartreuse; color: indianred; padding: 10px; font-weight: bold`);\n    return {\n      ...newState,\n      gameWon: true,\n    }\n  } else {\n    console.log('player debunked', misinfoType);\n    console.log(`%c there are ${newState.turnMovesLeft} moves left`,`background-color: lightpink; color: black; padding: 10px`);\n    return nextMoveChecker(newState, currentPlayerID)\n  }\n}\n\n\n//* TURN\n\nexport function updatePossibleActions(oldState: Gamestate, currentPlayerID: Player['id']): Gamestate {\n  //* settup\n  const playerIndex: number = oldState.players.map((player) => player.id).indexOf(currentPlayerID);\n  const location: Player['currentSource'] = oldState.players[playerIndex].currentSource;\n  const sourceIndex: number = oldState.sources.map((source) => source.name).indexOf(location);\n  //* move check\n  const adjacents: string[] = sources.filter((source) => source.name === location)[0].connections;\n  //* clear checks\n  const clearCommunityMisinfo: boolean = oldState.sources[sourceIndex].markers_community > 0;\n  const clearSocialMisinfo: boolean = oldState.sources[sourceIndex].markers_social > 0;\n  const clearRelationsMisinfo: boolean = oldState.sources[sourceIndex].markers_relations > 0;\n  //* share checks\n  // check if cards in hand\n  let possibleShares: Player[] = [];\n  if (oldState.players[playerIndex].cards.length > 0) {\n    // check if another player is there\n    const otherPlayers: Player[] = oldState\n      .players\n      .filter((player) => player.id !== currentPlayerID)\n      .filter((otherPlayer) => otherPlayer.currentSource === location);\n    // check players have space in their hand\n    possibleShares = otherPlayers\n      .filter((player) => player.cards.length < 6)\n  }\n  //* logoff checks\n  // check hand contains current location card\n  const logoffPossible: boolean = oldState.players[playerIndex].cards\n    .filter((card) => card.sourceName === location)\n    .length > 0;\n  //* logon check\n  // check hand contains other location card\n  const logonPossible: Card['sourceName'][] = oldState.players[playerIndex].cards\n    .map((card) => card.sourceName)\n    .filter((name) => name !== location);\n  //* debunk checks\n  // check if we are at home (debunk 1/2)\n  const atHome: boolean = location === 'crazy dave';\n  // check hand contains 4 of any misinfo type/area (debunk 2/2)\n  const debunkable: Misinformation['name'][] = []\n  if (atHome) {\n    if (\n      oldState.players[playerIndex].cards\n        .filter((card) => card.misinfoType === 'community')\n        .length >= 4) {\n      debunkable.push('community')\n    };\n    if (\n      oldState.players[playerIndex].cards\n        .filter((card) => card.misinfoType === 'social')\n        .length >= 4) {\n      debunkable.push('social')\n    };\n    if (\n      oldState.players[playerIndex].cards\n        .filter((card) => card.misinfoType === 'relations')\n        .length >= 4) {\n      debunkable.push('relations')\n    };\n  };\n  //* UPDATE ENTIRE STATE WITH ALL ABOVE CHANGES\n  const newState: Gamestate =\n  {\n    ...oldState,\n    sources: oldState.sources\n      .map((source) => source.name === location ?\n        {\n          ...source,\n          canMove: false,\n          canLogOn: false,\n          canLogOff: false,\n          canClearCommunity: clearCommunityMisinfo,\n          canClearSocial: clearSocialMisinfo,\n          canClearRelations: clearRelationsMisinfo,\n          canShare: possibleShares,\n          canDebunk: debunkable,\n        } :\n        {\n          ...source,\n          canMove: adjacents.includes(source.name),\n          canLogOn: logonPossible.includes(source.name) && !adjacents.includes(source.name),\n          canLogOff: logoffPossible && !adjacents.includes(source.name),\n          canClearCommunity: false,\n          canClearSocial: false,\n          canClearRelations: false,\n          canShare: [],\n          canDebunk: [],\n        }\n      ),\n  };\n  return newState;\n}\n\n\nexport function boardActions(oldState: Gamestate, currentPlayerID: Player['id'], noOfCards: number): Gamestate {\n  // deal connection cards\n  const playerIndex = oldState.players\n    .map((player) => player.id)\n    .indexOf(currentPlayerID);\n  let cardsLeft = noOfCards;\n\n  let newState: Gamestate = oldState;\n  while (cardsLeft > 0) {\n    didLose(newState)\n    newState = dealConnectionCard(oldState);\n    // check here for losing\n    if (didLose(newState)){\n\n      // console.log(`%c there are no more cards in the deck, so...`,`color: darkred; padding:10px`);\n      // console.log(`%c ...You Lose!`,`background-color: darkred; color: mintcream; font-weight: bold; padding:10px`);\n      // console.log(`%c SETTING UP NEW GAME...`,`background-color: mediumspringgreen; color: navy; font-weight: bold; padding:10px`);\n      //setUp(newState.players);\n    }\n    // if (newState.players[playerIndex].cards.length > 6) {\n    //   console.log('your hand is full, you need to discard a card');\n    //   return {\n    //     ...newState,\n    //     players: newState.players\n    //       .map((player) => player.id === currentPlayerID ?\n    //         { ...player, cardHandOverflow: true } :\n    //         player\n    //       ),\n    //     dealHistory: cardsLeft - 1,\n    //   } // exits function here\n    // }\n    cardsLeft--;\n  }\n  //? do we need to put breaks here, and how, for the front end to update or show when a card has been dealt?\n  // check spread marker for weight\n  // deal misinfo cards\n  let misinfoCardNo = [2, 2, 3, 4][newState.spreadLevel];\n  while (misinfoCardNo > 0) {\n    newState = dealMisinfoCard(newState, 1, false)!\n    // check if lose (run out of misinfo)\n    if (didLose(newState)){\n      // console.log(`%c there are no more misinfo cards in the deck, so...`,`color: darkred; padding:10px`);\n      // console.log(`%c ...You Lose!`,`background-color: darkred; color: mintcream; font-weight: bold; padding:10px`);\n      // console.log(`%c SETTING UP NEW GAME...`,`background-color: mediumspringgreen; color: navy; font-weight: bold; padding:10px`);\n      //setUp(newState.players);\n    }\n    misinfoCardNo--\n  }\n  //change current player turn\n  //? anything else needs resetting?\n  return nextTurn(newState, currentPlayerID)\n}\n\n//* HELPERS\n\nexport function nextTurn(oldState: Gamestate, currentPlayerID: Player['id']): Gamestate {\n  if(oldState.players.length>1){\n  const playerIndex: number = oldState.players.map((player) => player.id).indexOf(currentPlayerID);\n  const nextPlayerIndex: number = playerIndex === oldState.players.length - 1 ?\n    0 :\n    playerIndex + 1;\n  const newState: Gamestate =\n  {\n    ...oldState,\n    players: oldState.players\n      .map((player, index) => index === playerIndex ?\n        { ...player, isCurrent: false } :\n        index === nextPlayerIndex ?\n          { ...player, isCurrent: true } :\n          player\n      ),\n    // reset number of moves\n    turnMovesLeft: 4,\n  };console.log(`%c NEXT PLAYERS TURN`,`background-color: lightgreen; color: black; padding: 10px`);\n  console.log(nextPlayerIndex)\n  console.log(oldState.players)\n  messages.push(`Now it's over to ${oldState.players[nextPlayerIndex].name}!`)\n  return updatePossibleActions(newState, newState.players[nextPlayerIndex].id)\n}\n  const newState= {\n    ...oldState,\n    turnMovesLeft: 4,\n  };\n  return updatePossibleActions(newState,currentPlayerID)\n}\n\n\n// export function dealConnectionCard(oldState: Gamestate, currentPlayerID: Player['id']): Gamestate {\n//   //* if no cards left then game is lost\n//   if (oldState.connectionDeck.length === 0) {\n//     console.log('no more connections... you lost!');\n//     return {\n//       ...oldState,\n//       gameLost: true\n//     }\n//   }\n//   const newCard: Card|ViralCard = oldState.connectionDeck[0]\n//   console.log('NEWCARD' , newCard)\n//   if (viralCheck(newCard)) {\n//     //? does viral function remove card? should it be returned? should it also break for game checks?\n//     console.log('you drew a viral card!');\n//     return playViralCard(oldState)\n//   }\n//   else {\n//     const newState: Gamestate =\n//     {\n//       ...oldState,\n//       players: oldState.players\n//         .map((player) => player.id === currentPlayerID ?\n//           {\n//             ...player,\n//             cards: [...player.cards, newCard],\n//           } :\n//           player\n//         ),\n//       connectionDeck: oldState.connectionDeck.slice(1)\n//     };\n//     console.log('player was dealt a', newCard, 'connection card');\n//     return newState;\n//   }\n// }\n\n\nexport function nextMoveChecker(oldState: Gamestate, currentPlayerID: Player['id']): Gamestate {\n  if (oldState.turnMovesLeft > 0) {\n    return updatePossibleActions(oldState, currentPlayerID)\n  } else {\n\n    return boardActions(oldState, currentPlayerID, 2)\n  }\n}\n\n\n// called when player has chosen to discard card from hand, when cardHandOverflow === true\nexport function discardCard(oldState: Gamestate, currentPlayerID: Player['id'], discardedCard: Card['sourceName']): Gamestate {\n  const newState: Gamestate =\n  {\n    ...oldState,\n    players: oldState.players\n      .map((player) => player.id === currentPlayerID ?\n        {\n          ...player,\n          cards: player.cards.filter((card) => card.sourceName !== discardedCard),\n          cardHandOverflow: false,\n        } :\n        player\n      ),\n  };\n  //? calling boardActions with newState.dealHistory will decrement the amount of connection cards to be dealt, allowing the function to continue where it left off\n  return boardActions(newState, currentPlayerID, newState.dealHistory)\n}\n\n\nexport function outbreak(outbreak_source: Source, oldState: Gamestate) {\n  let playerName:string=oldState.players.filter(player=>player.isCurrent)[0].name\n  oldState.chaosMeter++\n  messages.push(`Oh no ${playerName}! We've had an outbreak at ${outbreak_source.name}!! Chaos meter increases to ${oldState.chaosMeter*25}%`)\n  // check if lose (chaos meter )\n  if (didLose(oldState)){\n\n    //console.log(`%c Chaos reigns!, the chaos meter is too high, so...`,`color: darkred; padding:10px`);\n    //console.log(`%c ...You Lose!`,`background-color: darkred; color: mintcream; font-weight: bold; padding:10px`);\n    //console.log(`%c SETTING UP NEW GAME...`,`background-color: mediumspringgreen; color: navy; font-weight: bold; padding:10px`);\n    //setUp(oldState.players);\n  }\n  let connections!: string[];\n  for (const source of sources) {\n    if (source.name === outbreak_source.name) {\n      connections = source.connections  //* set list of connections to spread to\n    }\n  }\n  for (const connection of connections) {\n    for (const source of oldState.sources) {\n      if (source.name === connection) {\n        let key = outbreak_source.misinfoType\n        if (typeCheck(key))\n          if (source[key] === 3) {\n            oldState = outbreak(source, oldState)\n          }\n          else {\n            source[key]++\n            // check if lose (no more misinfo)\n            if (didLose(oldState)){\n\n              //console.log(`%c all the misinfo markers are gone, so...`,`color: darkred; padding:10px`);\n              //console.log(`%c ...You Lose!`,`background-color: darkred; color: mintcream; font-weight: bold; padding:10px`);\n              //console.log(`%c SETTING UP NEW GAME...`,`background-color: mediumspringgreen; color: navy; font-weight: bold; padding:10px`);\n              //setUp(oldState.players);\n            }\n          }\n\n      }\n    }\n  }\n  let newState = { ...oldState }\n  return newState\n}\n\nexport function viralCheck(object: any): object is ViralCard {\n  return false\n}\n\nexport function dealConnectionCard(oldState: Gamestate) {\n  console.log(oldState.connectionDeck)\n  let newCard: Card|ViralCard = oldState.connectionDeck[0]\n\n  if (newCard.cardType==='viral') {\n    //console.log(`%c IT'S GONE VIRAL!`,`background-color: red; color: black; padding: 10px; font-weight: bold`);\n    oldState = playViralCard(oldState)\n    oldState.connectionDeck.shift()\n  }\n  else {\n    for (const player of oldState.players) {\n      if (player.isCurrent) {\n        if (!viralCheck(newCard)) {\n          player.cards.push(newCard)\n          oldState.connectionDeck.shift()\n        }\n      }\n    }\n  }\n\n  // console.log(oldState.players)\n  let newState = { ...oldState }\n  return newState\n}\n\nexport function playViralCard(oldState: Gamestate) {\n  oldState = dealMisinfoCard(oldState, 3, true)!\n  oldState.spreadLevel++\n  oldState.misinformationDeckActive = [...shuffle(oldState.misinformationDeckPassive), ...oldState.misinformationDeckActive]\n  oldState.misinformationDeckPassive=[]\n  let newState = { ...oldState }\n  console.log('SPREADLEVEL SHOULD',newState)\n  return newState\n}\n\nexport function shuffle(array: any[]) {\n  let currentIndex = array.length\n  let tempValue\n  let randomIndex\n\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1\n    tempValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = tempValue\n  }\n  return array;\n}\n\nexport function didLose(state: Gamestate) {\n\n  let playerName:string=state.players.filter(player=>player.isCurrent)[0].name\n  if (state.chaosMeter === 4){\n    messages.push(`Oh no ${playerName},Chaos reigns!, the chaos meter is too high, so it's Game Over`)\n    state.gameLost=true\n    //!UPDATE STATE\n    return true}\n  if (\n    state.misinformation.community.markersLeft <= 0 ||\n    state.misinformation.social.markersLeft <= 0 ||\n    state.misinformation.relations.markersLeft <= 0\n  ){\n    messages.push(`Oh no ${playerName}! All your markers are gone, so it's Game Over`)\n    state.gameLost=true\n    //!UPDATE STATE\n    return true}\n  if (state.connectionDeck.length === 0|| state.misinformationDeckActive.length===0) {\n    messages.push(`Oh no ${playerName}! You have no there are no cards left to draw, it's Game over!`)\n    state.gameLost=true\n    //!UPDATE STATE\n    return true\n  }\n  return false\n}\n\n\nexport function dealMisinfoCard(oldState: Gamestate, weight: number, isViral: boolean) {\n  didLose(oldState)\n  let oldDeck: Card[] = oldState.misinformationDeckActive\n  let drawSource: string\n  if (isViral) {\n    drawSource = oldDeck[oldDeck.length - 1].sourceName\n    let playerName:string=oldState.players.filter(player=>player.isCurrent)[0].name //! WHY IS THIS HAPPENING ON 2ND PLAYER JOINING??\n    messages.push(`Oh no ${playerName}! It's gone Viral at \"${drawSource}\"!`)\n  }\n  else {\n    drawSource = oldDeck[0].sourceName\n  }\n\n\n  for (const source of oldState.sources) {\n\n    if (source.name === drawSource) {\n\n      while (weight > 0) {\n\n\n        let key1 = 'markers_' + source.misinfoType\n        let key2 = source.misinfoType\n\n        if (typeCheck(key1) && typeCheck(key2)) {\n\n          if (source[key1] === 3) {\n            oldState = outbreak(source, oldState)\n          }\n          else {\n            source[key1]++\n            oldState.misinformation[key2].markersLeft--\n          }\n          didLose(oldState)\n          weight--\n        }\n      }\n\n      if (isViral) {\n        oldState.misinformationDeckPassive.push(oldDeck[oldDeck.length - 1])\n        oldState.misinformationDeckActive.pop()\n      }\n      else {\n        oldState.misinformationDeckPassive.push(oldDeck[0])\n        oldState.misinformationDeckActive.shift()\n      }\n      let newState = { ...oldState }\n      return newState\n    }\n  }\n}","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/redux/gameState/initialState.tsx",["207","208","209","210","211"],"// this initial state presumes 2 players, 3 locations (one for each color), 3 connection and 3 misinfo cards, and 1 viral card.\n\nimport { Gamestate, Card, Source, Player, Misinformation, Connection } from '../../types/gameStateTypes'\n\nexport const initialState: Gamestate = {\n  sources: [\n  \n  ],\n  players: [\n  ],\n  spreadLevel: 1,\n  chaosMeter: 0,\n  misinformation: {\n    community: {\n      name: 'Misinfo Type 1',\n      debunked: false,\n      markersLeft: 16,\n    },\n    social: {\n      name: 'Misinfo Type 2',\n      debunked: false,\n      markersLeft: 16,\n    },\n    relations: {\n      name: 'Misinfo Type 3',\n      debunked: false,\n      markersLeft: 16,\n    },\n  },\n  connectionDeck: [\n    {\n      cardType: 'connection',\n      sourceName: 'University',\n      misinfoType: 'blue',\n    },\n    {\n      cardType: 'connection',\n      sourceName: 'Gym',\n      misinfoType: 'red',\n    },\n    {\n      cardType: 'connection',\n      sourceName: 'Instagram',\n      misinfoType: 'yellow',\n    },\n    {\n      cardType: 'viral',\n    },\n  ],\n  misinformationDeckActive: [\n    {\n      cardType: 'misinformation',\n      sourceName: 'University',\n      misinfoType: 'blue',\n    },\n    {\n      cardType: 'misinformation',\n      sourceName: 'Gym',\n      misinfoType: 'red',\n    },\n    {\n      cardType: 'misinformation',\n      sourceName: 'Instagram',\n      misinfoType: 'yellow',\n    },\n  ],\n  misinformationDeckPassive: [],\n  turnMovesLeft: 4,\n  dealHistory: 0,\n  gameWon: false,\n  gameLost: false,\n  received: false,\n  gameOn:false\n}","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/OtherPlayer/OtherPlayer.tsx",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/SpreadLevel/SpreadLevel.tsx",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/PlayerPrompt/PlayerPrompt.tsx",["212","213"],"import React,{useEffect, useRef, useState} from 'react';\nimport {messages} from '../../logic/actions.newState_CO'\nimport { Gamestate } from '../../types/gameStateTypes'\n\nimport \"./PlayerPrompt.scss\"\n\nexport interface PlayerPromptProps {\n  state:Gamestate\n}\n\n\nexport const PlayerPrompt: React.FC<PlayerPromptProps> = ({state}:PlayerPromptProps) => { // SVGIcon\n  const h1Ref = useRef<HTMLHeadingElement>(null);\n\n\n  const scrollToBottom = () => {\n    h1Ref.current?.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"start\",\n    });\n  }\n\n  useEffect(() => {\n    scrollToBottom()\n    \n  }, [state])\n\n\n\n  return (\n    <div className=\"player-prompt-container\" >\n      {messages.map(msg => {\n        let player = state.players.filter(player => {\n          if (msg.search(player.name) !== -1 ) {\n            return player \n          }})[0]\n        return (\n          <div className=\"single-message\"\n            style={{ border: `2px solid ${player.pawnColor}` }}>{msg}</div>)\n      })}\n      \n\n      <div ref={h1Ref}></div>\n    </div>\n  )\n}","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/MisinformationDeck/misinformationDeck.tsx",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/MarkersStore/MarkersStore.tsx",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/ChaosMeter/ChaosMeter.tsx",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/InfoModal/InfoModal.tsx",["214","215"],"import React, { useState } from 'react';\nimport './InfoModal.scss';\n\n\nexport const InfoModal: React.FC = () => {\n\n\n  const onClose = () => {\n\n  };\n\n  return (\n\n    <div className='modal_body'>\n      <h4>Welcome to Viral!</h4>\n      <p className='text'>\n\n        In this game you have to travel around town cleaning up misinformation from various sources.\n        You can either travel to an adjacent source or fast travel by using one of your cards. Each player can make 4 actions, either moving or cleaning, on each turn.\n        After each turn additional misinformation will spread throughout the town so you’ll have to act quickly!\n        The amount of misinformation which spreads each turn depends on the spread level. If a third marker of misinformation is put on a source there is an outbreak spreading it to adjacent sources.\n        Each outbreak increases the chaos meter!\n        After each turn the player also collects two source cards. The spread increases each time one of those source cards turns out to be one of the 3 hidden Viral cards!\n        To win you must debunk all three types of misinformation.\n        Each type of misinformation is debunked by collection 4 source cards representing that type of misinformation.\n        The game is over if the chaos meter increases to 100%, you run out of source cards or if you run out of any type of misinformation marker.\n        Good luck!\n          </p>\n    </div>\n\n\n\n  );\n};","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/CureDeck/CureDeck.tsx",["216","217","218","219","220","221","222","223"],"import React from 'react';\nimport \"./CureDeck.scss\"\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../redux/gameState/store';\n\n\nimport WifiIcon from '@material-ui/icons/Wifi';\nimport WifiOffIcon from '@material-ui/icons/WifiOff';\n\n\n\nconst style = {\n  large: {\n    fontSize:50\n  }\n}\nexport const CureDeck: React.FC = ():JSX.Element => {\n\n  const gamestate = useSelector((state: RootState) => state.gameStateReducer)\n\n  let misinformationCommunityHasDebunked = gamestate.misinformation.community.debunked\n  let misinformationRelationsHasDebunked = gamestate.misinformation.relations.debunked\n  let misinformationSocialHasDebunked = gamestate.misinformation.social.debunked\n\n  const communityCubesLeft = useSelector((state:RootState) => state.gameStateReducer.misinformation.community.markersLeft)\n  const relationsCubesLeft = useSelector((state:RootState) => state.gameStateReducer.misinformation.relations.markersLeft)\n  const socialCubesLeft = useSelector((state:RootState) => state.gameStateReducer.misinformation.social.markersLeft)\n\n  let noCureString = \"Not debunked yet - we're screwed\"\n  let cureString = \"Debunked!! bitches!\"\n  const CureDeck = (<>\n    <div className=\"debunk-indicator community\">\n      {/* {misinformationCommunityHasDebunked ? <WifiOffIcon style={style.large} /> : <WifiIcon style={style.large} />} */}\n      {communityCubesLeft}\n    </div>\n    <div className=\"debunk-indicator relations\">\n      {/* {misinformationRelationsHasDebunked ? <WifiOffIcon style={style.large} /> : <WifiIcon style={style.large} />} */}\n      {relationsCubesLeft}\n    </div>\n    <div className=\"debunk-indicator social\">\n      {socialCubesLeft}\n      {/* {misinformationSocialHasDebunked ? <WifiOffIcon style={style.large} /> : <WifiIcon style={style.large} />} */}\n    </div>\n        \n  </>)\n\n  return (\n    <div className=\"cure-deck-container\" >\n      {CureDeck}\n    </div>\n  )\n}","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/CardHand/CardHand.tsx",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/sourceDeck/sourceDeck.tsx",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/SourceParent/SourceParent.tsx",["224","225","226"],"import React from 'react'\nimport PropTypes from 'prop-types'\n// import { initDummyState } from '../../logic/dummyState.REDO_CO';\nimport { SourceComponent  } from '../Source/Source'\nimport {Source} from '../../types/gameStateTypes'\nimport { render } from '@testing-library/react';\nimport {useSelector} from 'react-redux'\nimport { RootState } from '../../redux/gameState/store'\nimport './SourceParent.scss'\nimport { getIcon } from '../../helpers/iconExporter';\n\nexport const SourceParent = () => {\n  // const sources = initDummyState.sources;\n  const sources = useSelector((state: RootState) => state.gameStateReducer.sources);\n\n\n  const EmptyAppIcon = getIcon('emptyAppIcon');\n\n\n  const renderSources = (srcArr: Source[]) => {\n\n    return srcArr.map(source => {\n      //! GET source.markers_community etc and plug into props of SourceComponent\n\n\n      return <SourceComponent source={source} key={source.name}/>\n    })\n  }\n\n  return (\n    <div id=\"source-parent-grid-container\">\n      {renderSources(sources)}\n      {/* <EmptyAppIcon className=\"empty-app-icon-1\" />\n      <EmptyAppIcon className=\"empty-app-icon-2\" /> */}\n    </div>\n  )\n}\n\n\n\n","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/logic/connections.ts",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/helpers/utils.ts",[],"/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/SourceCard/SourceCard.tsx",["227","228","229"],"import React from 'react';\nimport { getIcon } from '../../helpers/iconExporter'\nimport { toCamelCase, toPascalCase } from '../../helpers/utils'\nimport './SourceCard.scss'\nimport { shareCardEvent } from '../../logic/event.listeners';\nimport { ShareCardProps } from '../../redux/gameState/reduxTypes'\n\n//! issue with \"Card\" interface beings used for both Source/connection & \"Viral\" cards, which have name type \"null\" - possible change types/logic later\nexport interface SourceCardProps {\n  name: string,    //! NULL TO BE REMOVED\n  category: string, //! NULL TO BE REMOVED\n  canShare: any[]\n}\n// DON'T NEED ===> canlogon can go to the place if you have that card\n// canShare: a button that appears on each card when you are on the same location as another player\n// canchare: Player[]\n\n\nexport const SourceCard: React.FC<SourceCardProps> = ({ name, category, canShare }: SourceCardProps) => { // SVGIcon\n\n  const currentState = {}\n\n  const SVGIcon = getIcon(toCamelCase(name) + 'Icon');\n\n  const handleShareClick = (id: string) => {\n    //DISPATCH ACTION\n    console.log(`SHARING CARD ${name} WITH ${id}`);\n  }\n\n\n  const renderShareButtons = (shareWith: { name: string, id: string }[]) => {\n    return shareWith.map(player => <button onClick={() => handleShareClick(player.id)\n\n      // shareCardEvent({\n      //   oldState: currentState,\n      //   currentPlayerID: ,\n      //   recipient: player.id,\n      //   sharedCard: name\n      // })\n    }>{player.name}</button>)\n  }\n  return (\n    <div className={`source-card-container ${category}`} >\n      <SVGIcon name={name} className=\"card-icon\" />\n      <div className=\"name-container\" >\n        <p className=\"title\">{toPascalCase(name)}</p>\n        {renderShareButtons(canShare)}\n      </div>\n    </div>\n  )\n}","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/Source/Source.tsx",["230","231","232"],"import React, { Fragment, useEffect, useState } from 'react';\nimport { Player, Source } from '../../types/gameStateTypes'\nimport { getIcon } from '../../helpers/iconExporter'\nimport { toCamelCase, toKebabCase } from '../../helpers/utils';\nimport './Source.scss'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { clearMisinfoAction, debunkMisinfoAction, moveAction, logOnOffAction } from '../../redux/gameState/gameStateActions';\nimport { RootState } from '../../redux/gameState/store';\nimport { PlayerPawn } from '../PlayerPawn/PlayerPawn';\nimport { ModalComponent } from './DebunkModal';\nimport { logOnOff } from '../../logic/actions.newState_CO';\n\n\nexport interface SourceProps {\n  source: Source;\n}\n\n\nexport const SourceComponent: React.FC<SourceProps> = ({ source }: SourceProps) => { // SVGIcon\n\n\n  const dispatch = useDispatch()\n  const gamestate = useSelector((state: RootState) => state.gameStateReducer)\n  const currentPlayer = useSelector((state: RootState) => state.gameStateReducer.players.filter(player => player.isCurrent === true))[0]\n  ////console.log('CURRENT PLAYER', array)\n  const allPlayers = useSelector((state: RootState) => state.gameStateReducer.players)\n  ////console.log('gamestate from source : ', gamestate)\n  ////console.log('currentPlayer from source : ' , currentPlayer)\n\n  const [modalIsOpen, setIsOpen] = useState(false)\n  const [selectedDebunkCards, setselectedDebunkCards] = useState([])\n\n  let { name, markers_community, markers_social, markers_relations,\n    canMove, canLogOff, canLogOn, canClearCommunity,\n    canClearRelations, canClearSocial, canShare, canDebunk, misinfoType } = source;\n\n\n\n  useEffect(() => {\n    //console.log('close modal from source tsx useEffect---------', modalIsOpen)\n\n  }, [modalIsOpen])\n  useEffect(() => {\n    //console.log('close modal from source tsx useEffect seleceted debunked cards---------', selectedDebunkCards)\n\n  }, [selectedDebunkCards])\n\n  //console.log('source MOVABLE', source.name, canMove)\n  //console.log('THIS IS THE NAME::::::: ', toCamelCase(name));\n  ////console.log('THIS IS THE NAME::::::: ', toCamelCase(name));\n  const SVGIconSource: React.FunctionComponent<React.SVGProps<SVGSVGElement>>\n    = getIcon(toCamelCase(name) + 'Icon');\n  const SVGIconSourceOverlay: React.FunctionComponent<React.SVGProps<SVGSVGElement>>\n    = getIcon(toCamelCase(name) + 'Icon');\n\n\n  const getMarker = (category: string, num: number, canBeCleared: boolean, canDebunk: string[]) => {\n    if (num > 0 && canDebunk.includes(category)) {\n\n      //get the debunkable icon\n      const DebunkableIcon = getIcon(toCamelCase(`marker ${category} ${num}`))\n      //wrap it with  button to make it clickable\n      return (<div onClick={() => debunkMisinforamtion(category)}><DebunkableIcon /></div>)\n\n    }\n\n    //add a different icon if canBeCleared\n    if (num > 0 && canBeCleared) {\n      //get the clearable icon\n      const ClearableIcon = getIcon(toCamelCase(`marker ${category} ${num}`))\n      //wrap it with  button to make it clickable\n\n      return (<div onClick={() => clearMisinformationbyOne(category)}><ClearableIcon /></div>)\n\n    }\n    if (num > 0) {\n      ////console.log(toCamelCase(`marker ${category} ${num}`))\n      const Icon = getIcon(toCamelCase(`marker ${category} ${num}`));\n      return <Icon className={`size${num}`} />;\n    }\n  }\n\n  const debunkMisinforamtion = (category: string) => {\n\n    //showModal\n    setIsOpen(true)\n\n    setTimeout(async () => {\n      try {\n\n        // Wait user to confirm !\n        dispatch(debunkMisinfoAction({\n          oldState: gamestate, currentPlayerID: currentPlayer.id,\n          misinfoType: category, usedCards: selectedDebunkCards\n        }))\n\n        // this line below is executed only after user click on OK\n        alert(\"OK\");\n      } catch (err) {\n        alert(\"CANCEL\");\n      }\n    }, 7000);\n\n\n  }\n\n  const clearMisinformationbyOne = (misinfoType: string) => {\n    //throws a logic error !!!\n    dispatch(clearMisinfoAction({ oldState: gamestate, currentPlayerID: currentPlayer.id, misinfoType, location: source.name }))\n  }\n\n\n  const getPlayerPawns = (players: Player[], currentPlayer: Player) => {\n    let test: Player[] = [];\n    for (const player of allPlayers) {\n      if (player.currentSource === source.name && !test.includes(player)) {\n        test.push(player)\n\n      }\n    }\n    //console.log(players)\n    if (test.length > 0) return test.map(player => {\n      return <div className=\"player-pawn-container\">\n        <PlayerPawn color={player.pawnColor} />\n      </div>\n    })\n    else return null\n\n  }\n\n\n  const changePlayersCurrentSource = () => {\n    dispatch(moveAction({ oldState: gamestate, currentPlayerID: currentPlayer.id, location: source.name }))\n  }\n\n  const logonToNewSource = () => {\n    dispatch(logOnOffAction({ oldState: gamestate, currentPlayerID: currentPlayer.id, location: source.name, usedCard: source.name }))\n  }\n\n  const logoffToNewSource = () => {\n    const spentCard = gamestate.players.filter(player => player.id === currentPlayer.id)[0].currentSource;\n    dispatch(logOnOffAction({ oldState: gamestate, currentPlayerID: currentPlayer.id, location: source.name, usedCard: spentCard }))\n  }\n\n  const renderIcon = () => {\n    if (canMove) return <button onClick={() => changePlayersCurrentSource()}> <SVGIconSource /> </button>\n    return null\n\n  }\n\n  const renderAsLogOn = () => {\n    if (canLogOn) return <button onClick={() => changePlayersCurrentSource()}> <SVGIconSource /> </button>\n    return null\n\n  }\n\n  function unclickableMessage () {\n    //console.log(`%c you can't do anything at ${source.name}`,`background-color: red; color: white; padding: 10px`)\n    return null;\n  }\n\n  //adding the right class names\n  let canMoveClassName = canMove ? 'can-move-to' : ''\n  let canLogOffClassName = canLogOff ? 'can-log-off' : ''\n  let canLogOnClassName = canLogOn ? 'can-log-on' : ''\n  let canDebunkClassName = canDebunk ? 'can-debunk' : ''\n\n\n  const closeModal = () => {\n    //console.log('close modal from source tsx---------')\n    setIsOpen(false)\n\n\n\n  }\n\n\n  return (\n    <>\n      {modalIsOpen ? <ModalComponent modalIsOpen={modalIsOpen} closeModal={closeModal} setselectedDebunkCards={setselectedDebunkCards} /> : null}\n\n\n\n      <div\n        onClick={\n          // logic to render different click events from source\n          canLogOff ?\n            logoffToNewSource :\n            canLogOn ?\n              logonToNewSource :\n              canMove ?\n                changePlayersCurrentSource :\n                unclickableMessage}\n        className={`source-container ${toKebabCase(name)} ${canLogOffClassName} ${canLogOnClassName} ${canMoveClassName} ${source.misinfoType} ${canDebunkClassName} `} >\n\n        <SVGIconSource />\n        <SVGIconSourceOverlay />\n        <div className={`markers-container ${misinfoType}`}>\n          {getMarker('community', markers_community, canClearCommunity, canDebunk)}\n          {getMarker('social', markers_social, canClearSocial, canDebunk)}\n          {getMarker('relations', markers_relations, canClearRelations, canDebunk)}\n        </div>\n          {getPlayerPawns(canShare, currentPlayer)}\n      </div>\n    </>\n\n  )\n\n\n\n}\n\n\n\n// CAN MOVE:\n// CAN LOGON:\n// CAN LOGOFF:\n// MARKERS x3 ---> CAN CLEAR\n// PAWNS","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/Source/DebunkModal.tsx",["233","234","235","236","237"],"import React, { useEffect, useState } from 'react';\nimport Modal from 'react-modal';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../redux/gameState/store';\nimport { SourceCard } from '../SourceCard/SourceCard';\nimport ReactDOM from 'react-dom';\nimport { Card } from '../../types/gameStateTypes';\nimport ReactModal from 'react-modal';\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\n\n\ninterface ModalProps {\n  modalIsOpen: boolean,\n  closeModal: Function,\n  setselectedDebunkCards: Function\n}\n\ninterface CardWithId extends Card {\n  id: string\n\n}\n\nexport function ModalComponent({ modalIsOpen, closeModal, setselectedDebunkCards, }: ModalProps) {\n  const playerId = useSelector((state: RootState) => state.playerStateReducer.id)\n\n  const players = useSelector((state: RootState) => state.gameStateReducer.players)\n\n  const [pickedCards, setpickedCards] = useState<CardWithId[]>([])\n\n\n  let playerCards = players.find(player => player.id === playerId)?.cards\n\n\n\n\n  console.log('FUCK ALL THESE LOGS _ -----------------!!!!!playerCards ', playerId, players)\n\n  const fakeCards: Card[] = [{ cardType: \"connection\", sourceName: \"Instagram\", misinfoType: \"yellow\" },\n  { cardType: \"connection\", sourceName: \"Instagram\", misinfoType: \"yellow\" },\n  { cardType: \"connection\", sourceName: \"Instagram\", misinfoType: \"yellow\" }]\n\n  const fakeCardsWithIdInit: CardWithId[] = fakeCards.map((card) => {\n    (card as CardWithId).id = uid()\n    return card\n  }) as CardWithId[]\n\n  const [fakeCardsWithId, setfakeCardsWithId] = useState(fakeCardsWithIdInit)\n\n\n  var subtitle: any;\n\n  useEffect(() => {\n    console.log('pickedCards from UseEffect', pickedCards)\n\n  }, [pickedCards])\n\n\n  function uid(rounds: number = 1) {\n    let uid = '';\n    while (rounds > 0) {\n      uid += Math.random().toString(32).substring(2, 10);\n      rounds -= 1;\n    }\n    return uid;\n  }\n\n\n  function afterOpenModal() {\n    // references are now sync'd and can be accessed.\n  }\n\n  function sendcloseModal(e: any) {\n    e.preventDefault()\n    console.log('Close Modal')\n\n    const pickedCardsAsCard: Card[] = pickedCards.map((cardWithId) => {\n      const card: Card = { cardType: cardWithId.cardType, sourceName: cardWithId.sourceName, misinfoType: cardWithId.misinfoType }\n      return card\n    }) as Card[]\n\n    setselectedDebunkCards(pickedCardsAsCard)\n    closeModal()\n  }\n\n  const clickOnCard = (e: React.MouseEvent<HTMLElement>, fakeCard: CardWithId) => {\n    console.log(e.target);\n    let div = e.target as HTMLInputElement;\n\n    if (!div.classList.contains('selected')) {\n      div.classList.add('selected')\n      setpickedCards(prev => [...prev, fakeCard])\n\n    } else {\n      div.classList.remove('selected')\n\n      const filtered = pickedCards.filter(card => card.id !== fakeCard.id)\n\n      console.log('filtered cards ', filtered)\n      setpickedCards(filtered)\n    }\n\n\n\n\n\n  }\n\n  return (\n    <div>\n\n      <ReactModal\n        ariaHideApp={false}\n        isOpen={modalIsOpen}\n        onAfterOpen={afterOpenModal}\n        onRequestClose={sendcloseModal}\n        style={customStyles}\n        contentLabel=\"Example Modal\"\n      >\n\n        {pickedCards.map((pickedCard, index) => <div style={{ height: 50, borderWidth: 'solid' }} key={index}\n          onClick={(e) => clickOnCard(e, pickedCard)}>\n          <SourceCard name={pickedCard.sourceName} category={pickedCard.cardType} canShare={[]} />\n\n        </div>)}\n\n        <div style={{ border: \"1px solid black\" }}></div>\n\n\n        {fakeCardsWithId.map((fakeCard, index) => <div style={{ height: 50, borderWidth: 'solid' }} key={index}\n          onClick={(e) => clickOnCard(e, fakeCard)}>\n          <SourceCard name={fakeCard.sourceName} category={fakeCard.cardType} canShare={[]} />\n\n        </div>)}\n        <button onClick={sendcloseModal}>Send</button>\n      </ReactModal>\n    </div>\n  );\n}","/Users/connormacphee/Desktop/codeworks-round-2/senior/Thesis-Project/Viral/client/src/components/PlayerPawn/PlayerPawn.tsx",["238","239","240","241"],"import React from 'react';\n// also exported from '@storybook/react' if you can deal with breaking changes in 6.1\nimport { Story, Meta } from '@storybook/react/types-6-0';\nimport './PlayerPawn.scss';\nimport { withDesign } from 'storybook-addon-designs';\nimport { useSelector } from 'react-redux';\n// import {RootState} from '../../redux/gameState/store'\nimport { getIcon } from '../../helpers/iconExporter'\n\n\nconst FirePawn = getIcon('firePawn');\nconst HexagonPawn = getIcon('hexagonPlayerPawn');\nconst FlowerPawn = getIcon('flowerPawn');\nconst RombPawn = getIcon('rombPawn')\nconst SunPawn = getIcon('sunPawn')\nconst SquarePawn = getIcon('squarePawn')\n\n\nconst getPawn = (color: string) => {\n\n  if (color === 'orange') return <FirePawn />;\n  if (color === 'red') return <SquarePawn />;\n  if (color === 'blue') return <RombPawn />;\n  if (color === 'yellow') return <SunPawn />;\n  if (color === 'pink') return <FlowerPawn />;\n  if (color === 'green') return <HexagonPawn />;\n\n}\n\nexport interface PlayerPawnProps {\n  color: string\n}\n\nexport const PlayerPawn: React.FC<PlayerPawnProps> = ({\n  color,\n}: PlayerPawnProps) => {\n  return (\n    <div className='container'>\n      {getPawn(color)}\n    </div>\n  );\n};\n",{"ruleId":"242","replacedBy":"243"},{"ruleId":"244","replacedBy":"245"},{"ruleId":"246","severity":1,"message":"247","line":7,"column":10,"nodeType":"248","messageId":"249","endLine":7,"endColumn":14},{"ruleId":"246","severity":1,"message":"250","line":11,"column":10,"nodeType":"248","messageId":"249","endLine":11,"endColumn":22},{"ruleId":"246","severity":1,"message":"251","line":2,"column":17,"nodeType":"248","messageId":"249","endLine":2,"endColumn":26},{"ruleId":"246","severity":1,"message":"252","line":5,"column":10,"nodeType":"248","messageId":"249","endLine":5,"endColumn":18},{"ruleId":"246","severity":1,"message":"253","line":6,"column":21,"nodeType":"248","messageId":"249","endLine":6,"endColumn":26},{"ruleId":"246","severity":1,"message":"254","line":7,"column":19,"nodeType":"248","messageId":"249","endLine":7,"endColumn":27},{"ruleId":"246","severity":1,"message":"255","line":8,"column":10,"nodeType":"248","messageId":"249","endLine":8,"endColumn":18},{"ruleId":"246","severity":1,"message":"256","line":11,"column":10,"nodeType":"248","messageId":"249","endLine":11,"endColumn":30},{"ruleId":"246","severity":1,"message":"257","line":11,"column":32,"nodeType":"248","messageId":"249","endLine":11,"endColumn":58},{"ruleId":"246","severity":1,"message":"258","line":12,"column":10,"nodeType":"248","messageId":"249","endLine":12,"endColumn":19},{"ruleId":"246","severity":1,"message":"259","line":41,"column":9,"nodeType":"248","messageId":"249","endLine":41,"endColumn":15},{"ruleId":"246","severity":1,"message":"260","line":3,"column":10,"nodeType":"248","messageId":"249","endLine":3,"endColumn":26},{"ruleId":"246","severity":1,"message":"261","line":1,"column":10,"nodeType":"248","messageId":"249","endLine":1,"endColumn":28},{"ruleId":"246","severity":1,"message":"262","line":6,"column":10,"nodeType":"248","messageId":"249","endLine":6,"endColumn":17},{"ruleId":"246","severity":1,"message":"263","line":2,"column":3,"nodeType":"248","messageId":"249","endLine":2,"endColumn":23},{"ruleId":"246","severity":1,"message":"264","line":4,"column":3,"nodeType":"248","messageId":"249","endLine":4,"endColumn":20},{"ruleId":"246","severity":1,"message":"256","line":11,"column":3,"nodeType":"248","messageId":"249","endLine":11,"endColumn":23},{"ruleId":"246","severity":1,"message":"257","line":12,"column":3,"nodeType":"248","messageId":"249","endLine":12,"endColumn":29},{"ruleId":"246","severity":1,"message":"265","line":13,"column":3,"nodeType":"248","messageId":"249","endLine":13,"endColumn":18},{"ruleId":"246","severity":1,"message":"266","line":14,"column":3,"nodeType":"248","messageId":"249","endLine":14,"endColumn":18},{"ruleId":"246","severity":1,"message":"253","line":17,"column":21,"nodeType":"248","messageId":"249","endLine":17,"endColumn":26},{"ruleId":"246","severity":1,"message":"267","line":18,"column":10,"nodeType":"248","messageId":"249","endLine":18,"endColumn":16},{"ruleId":"246","severity":1,"message":"268","line":19,"column":10,"nodeType":"248","messageId":"249","endLine":19,"endColumn":20},{"ruleId":"246","severity":1,"message":"269","line":19,"column":22,"nodeType":"248","messageId":"249","endLine":19,"endColumn":37},{"ruleId":"246","severity":1,"message":"262","line":21,"column":10,"nodeType":"248","messageId":"249","endLine":21,"endColumn":17},{"ruleId":"246","severity":1,"message":"270","line":54,"column":7,"nodeType":"248","messageId":"249","endLine":54,"endColumn":13},{"ruleId":"246","severity":1,"message":"271","line":55,"column":7,"nodeType":"248","messageId":"249","endLine":55,"endColumn":12},{"ruleId":"246","severity":1,"message":"251","line":2,"column":17,"nodeType":"248","messageId":"249","endLine":2,"endColumn":26},{"ruleId":"246","severity":1,"message":"252","line":5,"column":10,"nodeType":"248","messageId":"249","endLine":5,"endColumn":18},{"ruleId":"246","severity":1,"message":"272","line":7,"column":10,"nodeType":"248","messageId":"249","endLine":7,"endColumn":17},{"ruleId":"246","severity":1,"message":"254","line":7,"column":19,"nodeType":"248","messageId":"249","endLine":7,"endColumn":27},{"ruleId":"246","severity":1,"message":"273","line":7,"column":29,"nodeType":"248","messageId":"249","endLine":7,"endColumn":37},{"ruleId":"246","severity":1,"message":"274","line":10,"column":10,"nodeType":"248","messageId":"249","endLine":10,"endColumn":20},{"ruleId":"246","severity":1,"message":"275","line":19,"column":10,"nodeType":"248","messageId":"249","endLine":19,"endColumn":21},{"ruleId":"246","severity":1,"message":"256","line":20,"column":10,"nodeType":"248","messageId":"249","endLine":20,"endColumn":30},{"ruleId":"246","severity":1,"message":"265","line":20,"column":60,"nodeType":"248","messageId":"249","endLine":20,"endColumn":75},{"ruleId":"246","severity":1,"message":"267","line":21,"column":21,"nodeType":"248","messageId":"249","endLine":21,"endColumn":27},{"ruleId":"246","severity":1,"message":"276","line":22,"column":10,"nodeType":"248","messageId":"249","endLine":22,"endColumn":31},{"ruleId":"246","severity":1,"message":"277","line":39,"column":9,"nodeType":"248","messageId":"249","endLine":39,"endColumn":17},{"ruleId":"246","severity":1,"message":"278","line":4,"column":8,"nodeType":"248","messageId":"249","endLine":4,"endColumn":13},{"ruleId":"246","severity":1,"message":"279","line":4,"column":15,"nodeType":"248","messageId":"249","endLine":4,"endColumn":23},{"ruleId":"246","severity":1,"message":"280","line":271,"column":9,"nodeType":"248","messageId":"249","endLine":271,"endColumn":20},{"ruleId":"246","severity":1,"message":"281","line":3,"column":21,"nodeType":"248","messageId":"249","endLine":3,"endColumn":25},{"ruleId":"246","severity":1,"message":"282","line":3,"column":27,"nodeType":"248","messageId":"249","endLine":3,"endColumn":33},{"ruleId":"246","severity":1,"message":"267","line":3,"column":35,"nodeType":"248","messageId":"249","endLine":3,"endColumn":41},{"ruleId":"246","severity":1,"message":"283","line":3,"column":43,"nodeType":"248","messageId":"249","endLine":3,"endColumn":57},{"ruleId":"246","severity":1,"message":"284","line":3,"column":59,"nodeType":"248","messageId":"249","endLine":3,"endColumn":69},{"ruleId":"246","severity":1,"message":"279","line":1,"column":34,"nodeType":"248","messageId":"249","endLine":1,"endColumn":42},{"ruleId":"285","severity":1,"message":"286","line":33,"column":50,"nodeType":"287","messageId":"288","endLine":33,"endColumn":52},{"ruleId":"246","severity":1,"message":"279","line":1,"column":17,"nodeType":"248","messageId":"249","endLine":1,"endColumn":25},{"ruleId":"246","severity":1,"message":"289","line":8,"column":9,"nodeType":"248","messageId":"249","endLine":8,"endColumn":16},{"ruleId":"246","severity":1,"message":"290","line":7,"column":8,"nodeType":"248","messageId":"249","endLine":7,"endColumn":16},{"ruleId":"246","severity":1,"message":"291","line":8,"column":8,"nodeType":"248","messageId":"249","endLine":8,"endColumn":19},{"ruleId":"246","severity":1,"message":"292","line":12,"column":7,"nodeType":"248","messageId":"249","endLine":12,"endColumn":12},{"ruleId":"246","severity":1,"message":"293","line":21,"column":7,"nodeType":"248","messageId":"249","endLine":21,"endColumn":41},{"ruleId":"246","severity":1,"message":"294","line":22,"column":7,"nodeType":"248","messageId":"249","endLine":22,"endColumn":41},{"ruleId":"246","severity":1,"message":"295","line":23,"column":7,"nodeType":"248","messageId":"249","endLine":23,"endColumn":38},{"ruleId":"246","severity":1,"message":"296","line":29,"column":7,"nodeType":"248","messageId":"249","endLine":29,"endColumn":19},{"ruleId":"246","severity":1,"message":"297","line":30,"column":7,"nodeType":"248","messageId":"249","endLine":30,"endColumn":17},{"ruleId":"246","severity":1,"message":"298","line":2,"column":8,"nodeType":"248","messageId":"249","endLine":2,"endColumn":17},{"ruleId":"246","severity":1,"message":"299","line":6,"column":10,"nodeType":"248","messageId":"249","endLine":6,"endColumn":16},{"ruleId":"246","severity":1,"message":"300","line":17,"column":9,"nodeType":"248","messageId":"249","endLine":17,"endColumn":21},{"ruleId":"246","severity":1,"message":"301","line":5,"column":10,"nodeType":"248","messageId":"249","endLine":5,"endColumn":24},{"ruleId":"246","severity":1,"message":"302","line":6,"column":10,"nodeType":"248","messageId":"249","endLine":6,"endColumn":24},{"ruleId":"246","severity":1,"message":"303","line":21,"column":9,"nodeType":"248","messageId":"249","endLine":21,"endColumn":21},{"ruleId":"246","severity":1,"message":"304","line":11,"column":10,"nodeType":"248","messageId":"249","endLine":11,"endColumn":18},{"ruleId":"246","severity":1,"message":"305","line":145,"column":9,"nodeType":"248","messageId":"249","endLine":145,"endColumn":19},{"ruleId":"246","severity":1,"message":"306","line":151,"column":9,"nodeType":"248","messageId":"249","endLine":151,"endColumn":22},{"ruleId":"246","severity":1,"message":"307","line":2,"column":8,"nodeType":"248","messageId":"249","endLine":2,"endColumn":13},{"ruleId":"246","severity":1,"message":"308","line":6,"column":8,"nodeType":"248","messageId":"249","endLine":6,"endColumn":16},{"ruleId":"246","severity":1,"message":"309","line":41,"column":7,"nodeType":"248","messageId":"249","endLine":41,"endColumn":18},{"ruleId":"246","severity":1,"message":"310","line":57,"column":27,"nodeType":"248","messageId":"249","endLine":57,"endColumn":45},{"ruleId":"246","severity":1,"message":"311","line":60,"column":7,"nodeType":"248","messageId":"249","endLine":60,"endColumn":20},{"ruleId":"246","severity":1,"message":"312","line":3,"column":10,"nodeType":"248","messageId":"249","endLine":3,"endColumn":15},{"ruleId":"246","severity":1,"message":"313","line":3,"column":17,"nodeType":"248","messageId":"249","endLine":3,"endColumn":21},{"ruleId":"246","severity":1,"message":"314","line":5,"column":10,"nodeType":"248","messageId":"249","endLine":5,"endColumn":20},{"ruleId":"246","severity":1,"message":"315","line":6,"column":10,"nodeType":"248","messageId":"249","endLine":6,"endColumn":21},"no-native-reassign",["316"],"no-negated-in-lhs",["317"],"@typescript-eslint/no-unused-vars","'Play' is defined but never used.","Identifier","unusedVar","'initialState' is defined but never used.","'useEffect' is defined but never used.","'Provider' is defined but never used.","'store' is defined but never used.","'getGames' is defined but never used.","'CureDeck' is defined but never used.","'addPlayerToGameState' is defined but never used.","'DealCardsToNewPlayerAction' is defined but never used.","'Gamestate' is defined but never used.","'MapSVG' is assigned a value but never used.","'gameStateReducer' is defined but never used.","'ADD_PLAYER_TO_GAME' is defined but never used.","'Console' is defined but never used.","'ButtonHTMLAttributes' is defined but never used.","'DetailedHTMLProps' is defined but never used.","'StartGameAction' is defined but never used.","'updateGameState' is defined but never used.","'Player' is defined but never used.","'PlayerPawn' is defined but never used.","'PlayerPawnProps' is defined but never used.","'player' is assigned a value but never used.","'state' is assigned a value but never used.","'getGame' is defined but never used.","'joinRoom' is defined but never used.","'SourceCard' is defined but never used.","'NewGameMenu' is defined but never used.","'UpdateGameStateAction' is defined but never used.","'allRooms' is assigned a value but never used.","'React' is defined but never used.","'useState' is defined but never used.","'playerIndex' is assigned a value but never used.","'Card' is defined but never used.","'Source' is defined but never used.","'Misinformation' is defined but never used.","'Connection' is defined but never used.","array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'onClose' is assigned a value but never used.","'WifiIcon' is defined but never used.","'WifiOffIcon' is defined but never used.","'style' is assigned a value but never used.","'misinformationCommunityHasDebunked' is assigned a value but never used.","'misinformationRelationsHasDebunked' is assigned a value but never used.","'misinformationSocialHasDebunked' is assigned a value but never used.","'noCureString' is assigned a value but never used.","'cureString' is assigned a value but never used.","'PropTypes' is defined but never used.","'render' is defined but never used.","'EmptyAppIcon' is assigned a value but never used.","'shareCardEvent' is defined but never used.","'ShareCardProps' is defined but never used.","'currentState' is assigned a value but never used.","'logOnOff' is defined but never used.","'renderIcon' is assigned a value but never used.","'renderAsLogOn' is assigned a value but never used.","'Modal' is defined but never used.","'ReactDOM' is defined but never used.","'playerCards' is assigned a value but never used.","'setfakeCardsWithId' is assigned a value but never used.","'subtitle' is defined but never used.","'Story' is defined but never used.","'Meta' is defined but never used.","'withDesign' is defined but never used.","'useSelector' is defined but never used.","no-global-assign","no-unsafe-negation"]